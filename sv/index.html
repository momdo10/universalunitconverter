<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Enhetsomvandlare – Omvandla Enheter Direkt</title>
  <meta name="description" content="Omvandla enheter direkt med Universal Enhetsomvandlare – din allt-i-ett gratis kalkylator för längd, vikt, temperatur, valuta och mer.">
  <meta name="keywords" content="enhetsomvandlare, måttenhetsomvandlare, online kalkylator, längdomvandling, viktsomvandling, temperaturomvandlare, valutaomvandlare">
  <meta name="author" content="Universal Enhetsomvandlare">
  <meta name="apple-mobile-web-app-title" content="Enhetsomvandlare">

  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png">

  <link rel="alternate" href="https://www.universalunitconverter.net/sv/index.html" hreflang="sv" />
  <link rel="alternate" href="https://www.universalunitconverter.net/index.html" hreflang="en" />
  <link rel="alternate" href="https://www.universalunitconverter.net/" hreflang="x-default" />
  <link rel="canonical" href="https://www.universalunitconverter.net/sv/" /> 


  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "Universal Enhetsomvandlare",
    "url": "https://www.universalunitconverter.net"
  }
  </script>

  <meta property="og:title" content="Universal Enhetsomvandlare – Omvandla Enheter Direkt">
  <meta property="og:description" content="Omvandla alla enheter enkelt – längd, vikt, temperatur, valuta och mer. Prova Universal Enhetsomvandlare nu.">
  <meta property="og:url" content="https://www.universalunitconverter.net/sv/">
  <meta property="og:image" content="https://www.universalunitconverter.net/favicon.ico">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Universal Enhetsomvandlare">
  <meta name="twitter:description" content="Omvandla måttenheter online direkt – enkelt, snabbt och korrekt.">
  <meta name="twitter:image" content="https://www.universalunitconverter.net/favicon.ico">

  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-59J56W3M');</script>
  <meta name="google-adsense-account" content="ca-pub-8299501777049336">

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8299501777049336" crossorigin="anonymous"></script>
  <script type="text/javascript" data-cmp-ab="1" src="https://cdn.consentmanager.net/delivery/autoblocking/c8cd8b35b26a8.js" data-cmp-host="d.delivery.consentmanager.net" data-cmp-cdn="cdn.consentmanager.net" data-cmp-codesrc="16"></script>
  </head>
<body>
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-59J56W3M"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <style>
    /* Keep your existing CSS here */
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f4f4f4;
    }
    header {
      background: #007acc;
      color: #fff;
      padding: 1rem;
      text-align: center;
    }
    nav {
      display: flex;
      justify-content: center;
      background: #fff;
      flex-wrap: wrap;
    }
    nav button {
      margin: 0.5rem;
      padding: 0.5rem 1rem;
      border: none;
      background: #e0e0e0;
      border-radius: 4px;
      cursor: pointer;
    }
    nav button.active {
      background: #007acc;
      color: #fff;
    }
    .container {
      max-width: 800px;
      margin: 2rem auto;
      background: #fff;
      padding: 1rem;
      border-radius: 4px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .row {
      display: flex;
      gap: 1rem;
      align-items: center;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    label {
      margin-right: 0.5rem;
    }
    input, select {
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 0.5rem;
      text-align: left;
    }
    th {
      background: #f0f0f0;
    }
    #matching-results {
      border: 1px solid #ccc;
      border-radius: 4px;
      background: #fafafa;
      padding: 0.5rem;
      font-size: 0.9rem;
    }
    #matching-results div {
      padding: 0.3rem;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }
    #matching-results div:hover {
      background: #eee;
    }

    /* Common Conversions Section */
    .common-conversions {
      padding: 40px 20px;
      background-color: #f0f4f8;
      text-align: center;
    }
    .common-conversions h2 {
      font-size: 2rem;
      margin-bottom: 30px;
      color: #333;
    }
    .conversion-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .conversion-card {
      background-color: #ffffff;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.07);
      transition: transform 0.2s;
    }
    .conversion-card:hover {
      transform: translateY(-5px);
    }
    .conversion-card h3 {
      font-size: 1.2rem;
      color: #007bff;
      margin-bottom: 12px;
    }
    .conversion-card ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .conversion-card li {
      margin-bottom: 8px;
    }
    .conversion-card a {
      color: #333;
      text-decoration: none;
      transition: color 0.2s;
    }
    .conversion-card a:hover {
      color: #007bff;
    }

.main-flex {
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 1.5rem;
  margin: 2rem auto;
  max-width: 1200px;
}

.converter-column {
  flex: 1 1 65%;
}

.sidebar {
  flex: 1 1 30%;
  background: #ffffff;
  padding: 1rem;
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.08);
}

.sidebar h3 {
  font-size: 1.3rem;
  color: #007BFF;
  margin-bottom: 1rem;
}

.sidebar ul {
  list-style: none;
  padding-left: 0;
}

.sidebar ul li {
  margin-bottom: 0.75rem;
}

.sidebar a {
  text-decoration: none;
  color: #333;
}

.sidebar a:hover {
  color: #007BFF;
}
.collapsible-btn {
  background: none;
  border: none;
  color: #007BFF;
  font-size: 1rem;
  cursor: pointer;
  padding: 0;
  text-align: left;
  font-weight: bold;
}

.collapsible-content {
  list-style: none;
  padding-left: 1rem;
  margin-top: 0.5rem;
  display: none;
}

.collapsible-content li {
  margin-bottom: 0.5rem;
}

.collapsible-btn::after {
  content: ' ▼';
  font-size: 0.8rem;
}

  </style>
  <header>
    <h1>Universal Enhetsomvandlare</h1>
  </header>
  <nav id="category-nav">
    <a href="/index.html" style="margin: 0 1rem; text-decoration: none; color: #007acc; font-weight: bold;">English</a>
    <a href="/sv/index.html" style="margin: 0 1rem; text-decoration: none; color: #007acc; font-weight: bold;">Svenska</a>
  </nav>

 <div class="main-flex">
  <div class="converter-column">
    <div class="container" id="converter"></div>
  </div>

  <aside class="sidebar">
  <div class="all-converters">
    <h3>Alla Omvandlare</h3> <ul>
      <li>
        <button class="collapsible-btn" onclick="toggleCategory('fluids-list')">Vätskeomvandlare</button> <ul id="fluids-list" class="collapsible-content">
          <li><a href="/sv/flow-converter.html">Flöde</a></li> <li><a href="/sv/flow-mass-converter.html">Massflöde</a></li> <li><a href="/sv/flow-molar-converter.html">Molarflöde</a></li> </ul>
      </li>
      <li>
        <button class="collapsible-btn" onclick="toggleCategory('other-list')">Andra Omvandlare</button>
        <ul id="other-list" class="collapsible-content">
          <li><a href="/sv/currency-converter.html">Valuta</a></li>
          </ul>
      </li>
    </ul>
  </div>
</aside>
</div>


  <div class="container">
    <label for="unit-search-input"><strong>Hitta Enheter att Omvandla:</strong></label> <input type="text" id="unit-search-input" placeholder="Skriv enhet (t.ex. 'c')" autocomplete="off" /> <div id="matching-results"></div>
  </div>

  <section class="common-conversions">
    <h2>Vanliga Omvandlingar</h2> <div class="conversion-grid">
      <div class="conversion-card">
        <h3>Längd</h3> <ul>
          <li><a href="cm-to-inches.html" data-category="length" data-from="centimeter">cm till tum</a></li> <li><a href="meters-to-feet-converter.html" data-category="length" data-from="meter">meter till fot</a></li> <li><a href="#" data-category="length" data-from="kilometer">km till miles</a></li> <li><a href="inches-to-cm-converter.html" data-category="length" data-from="inch">tum till mm</a></li> </ul>
      </div>
      <div class="conversion-card">
        <h3>Massa</h3> <ul>
          <li><a href="#" data-category="mass" data-from="kilogram">kg till lbs</a></li>
          <li><a href="#" data-category="mass" data-from="gram">gram till ounces</a></li>
          <li><a href="#" data-category="mass" data-from="milligram">mg till gram</a></li>
          <li><a href="#" data-category="mass" data-from="metric ton">ton till pund</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Temperatur</h3>
        <ul>
          <li><a href="#" data-category="temperature" data-from="Celsius">Celsius till Fahrenheit</a></li>
          <li><a href="#" data-category="temperature" data-from="Fahrenheit">Fahrenheit till Kelvin</a></li>
          <li><a href="#" data-category="temperature" data-from="Kelvin">Kelvin till Celsius</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Area</h3>
        <ul>
          <li><a href="#" data-category="area" data-from="square meter">kvadratmeter till kvadratfot</a></li>
          <li><a href="#" data-category="area" data-from="acre">acres till hektar</a></li>
          <li><a href="#" data-category="area" data-from="square kilometer">kvadratkilometer till kvadratmiles</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Tid</h3>
        <ul>
          <li><a href="#" data-category="time" data-from="second">sekunder till minuter</a></li>
          <li><a href="#" data-category="time" data-from="hour">timmar till dagar</a></li>
          <li><a href="#" data-category="time" data-from="millisecond">millisekunder till sekunder</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Volym</h3>
        <ul>
          <li><a href="#" data-category="volume" data-from="liter">liter till gallon</a></li>
          <li><a href="#" data-category="volume" data-from="milliliter">ml till koppar</a></li>
          <li><a href="#" data-category="volume" data-from="cubicMeter">kubikmeter till kubikfot</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Energi</h3>
        <ul>
          <li><a href="#" data-category="energy" data-from="joule">joule till kalorier</a></li>
          <li><a href="#" data-category="energy" data-from="kilowattHour">kWh till BTU</a></li>
          <li><a href="#" data-category="energy" data-from="erg">erg till joule</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Effekt</h3>
        <ul>
          <li><a href="#" data-category="power" data-from="watt">watt till hästkrafter</a></li>
          <li><a href="#" data-category="power" data-from="kilowatt">kW till MW</a></li>
          <li><a href="#" data-category="power" data-from="btuperSecond">BTU/tim till watt</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Tryck</h3>
        <ul>
          <li><a href="#" data-category="pressure" data-from="psi">psi till bar</a></li>
          <li><a href="#" data-category="pressure" data-from="atmosphere">atm till Pa</a></li>
          <li><a href="#" data-category="pressure" data-from="torr">mmHg till torr</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Hastighet</h3>
        <ul>
          <li><a href="#" data-category="speed" data-from="kilometerPerHour">km/h till mph</a></li>
          <li><a href="#" data-category="speed" data-from="meterPerSecond">m/s till ft/s</a></li>
          <li><a href="#" data-category="speed" data-from="knot">knop till km/h</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Digital Lagring</h3>
        <ul>
          <li><a href="#" data-category="digital" data-from="byte">byte till kilobyte</a></li>
          <li><a href="#" data-category="digital" data-from="megabyte">MB till GB</a></li>
          <li><a href="#" data-category="digital" data-from="terabyte">TB till PB</a></li>
        </ul>
      </div>
      <div class="conversion-card">
        <h3>Frekvens</h3>
        <ul>
          <li><a href="#" data-category="frequency" data-from="hertz">Hz till kHz</a></li>
          <li><a href="#" data-category="frequency" data-from="megahertz">MHz till GHz</a></li>
          <li><a href="#" data-category="frequency" data-from="hertz">RPM till Hz</a></li>
        </ul>
      </div>
    </div>
  </section>

  <script>
    // **IMPORTANT:** You need to translate the 'label' properties and decide
    // if you want to translate the unit names themselves (e.g., 'inch' to 'tum').
    // If you translate the unit names, ensure that the underlying conversion
    // logic using 'factor' remains consistent.
    const units = {
      length: {
        label: 'Längd', // Translated
        groups: {
          Metrisk: { // Translated
            picometer: 1e-12,
            nanometer: 1e-9,
            micrometer: 1e-6,
            millimeter: 1e-3,
            centimeter: 1e-2,
            decimeter: 1e-1,
            meter: 1,
            kilometer: 1e3,
            megameter: 1e6,
            gigameter: 1e9,
            terameter: 1e12
          },
          Imperial: {
            inch: 0.0254, // Consider if you want to display 'tum' instead of 'inch'
            foot: 0.3048,
            yard: 0.9144,
            mile: 1609.344,
            furlong: 201.168,
            rod: 5.0292,
            chain: 20.1168
          },
          Nautisk: { // Translated
            'nautical mile': 1852,
            fathom: 1.8288,
            cable: 185.2,
            league: 5556
          }
        }
      },
      mass: {
        label: 'Massa', // Translated
        groups: {
          Metrisk: { // Translated
            microgram: 1e-9,
            milligram: 1e-6,
            gram: 1e-3,
            kilogram: 1,
            'metric ton': 1e3,
            megagram: 1e3
          },
          Imperial: {
            grain: 6.479891e-5,
            ounce: 0.0283495,
            pound: 0.453592,
            stone: 6.35029,
            'short ton': 907.18474,
            'long ton': 1016.0469088
          }
        }
      },
      temperature: {
        label: 'Temperatur', // Translated
        groups: {
          Skalor: { // Translated
            Celsius: val => val,
            Fahrenheit: val => (val - 32) * 5/9,
            Kelvin: val => val - 273.15,
            Rankine: val => (val - 491.67) * 5/9,
            Delisle: val => (100 - val) * 2/3,
            Newton: val => val * 100/33,
            Réaumur: val => val * 5/4,
            Rømer: val => (val - 7.5) * 40/21
          }
        },
        convertAll(val, from) {
          const c = this.groups.Skalor[from](val); // Ensure this references the translated group name
          return Object.entries(this.groups.Skalor).reduce((res, [scale, fn]) => {
            if (scale === from) return res;
            let value;
            if (scale === 'Celsius') value = c;
            else if (scale === 'Fahrenheit') value = (c * 9/5) + 32;
            else if (scale === 'Kelvin') value = c + 273.15;
            else if (scale === 'Rankine') value = (c + 273.15) * 9/5;
            else if (scale === 'Delisle') value = (100 - c) * 3/2;
            else if (scale === 'Newton') value = c * 33/100;
            else if (scale === 'Réaumur') value = c * 4/5;
            else if (scale === 'Rømer') value = c * 21/40 + 7.5;
            res[scale] = parseFloat(value.toFixed(5));
            return res;
          }, {});
        }
      },
      area: {
        label: 'Area', // Translated
        groups: {
          Metrisk: { // Translated
            'square millimeter': 1e-6,
            'square centimeter': 1e-4,
            'square meter': 1,
            'square kilometer': 1e6,
            hectare: 1e4,
            are: 100
          },
          Imperial: {
            'square inch': 0.00064516,
            'square foot': 0.092903,
            'square yard': 0.836127,
            acre: 4046.86,
            'square mile': 2.59e6
          }
        }
      },
      time: {
        label: 'Tid', // Translated
        groups: {
          Standard: {
            picosecond: 1e-12,
            nanosecond: 1e-9,
            microsecond: 1e-6,
            millisecond: 1e-3,
            second: 1,
            minute: 60,
            hour: 3600,
            day: 86400,
            week: 604800,
            month: 2.628e6,
            year: 3.154e7,
            decade: 3.154e8,
            century: 3.154e9
          }
        }
      },
      volume: {
        label: 'Volym', // Translated
        groups: {
          Metrisk: { // Translated
            microliter: 1e-9,
            milliliter: 1e-6,
            liter: 1e-3,
            cubicDecimeter: 1e-3,
            decaliter: 1e-2,
            hectoliter: 0.1,
            cubicMeter: 1,
            megaliter: 1e3
          },
          Imperial: {
            teaspoon: 4.92892e-6,
            tablespoon: 1.47868e-5,
            fluidOunce: 2.95735e-5,
            cup: 0.000236588,
            pint: 0.000473176,
            quart: 0.000946353,
            gallon: 0.00378541
          }
        }
      },
      energy: {
        label: 'Energi', // Translated
        groups: {
          Standard: {
            joule: 1,
            kilojoule: 1e3,
            calorie: 4.184,
            kilocalorie: 4184,
            electronvolt: 1.60218e-19,
            erg: 1e-7,
            btu: 1055.06,
            wattHour: 3600,
            kilowattHour: 3.6e6
          }
        }
      },
      power: {
        label: 'Effekt', // Translated
        groups: {
          Standard: {
            watt: 1,
            kilowatt: 1e3,
            horsepower: 745.7,
            metricHorsepower: 735.499,
            btuperSecond: 0.293071
          }
        }
      },
      pressure: {
        label: 'Tryck', // Translated
        groups: {
          Metrisk: { // Translated
            pascal: 1,
            kilopascal: 1e3,
            bar: 1e5,
            atmosphere: 101325,
            torr: 133.322
          },
          Imperial: {
            psi: 6894.76,
            poundPerSquareFoot: 47.8803
          }
        }
      },
      speed: {
        label: 'Hastighet', // Translated
        groups: {
          Metrisk: { // Translated
            meterPerSecond: 1,
            kilometerPerHour: 0.277778,
            centimeterPerSecond: 0.01,
            milePerHour: 0.44704,
            knot: 0.514444
          }
        }
      },
      digital: {
        label: 'Digital Lagring', // Translated
        groups: {
          Standard: {
            bit: 1,
            byte: 8,
            kilobyte: 8192,
            megabyte: 8.38861e6,
            gigabyte: 8.58993e9,
            terabyte: 8.79609e12
          }
        }
      },
      frequency: {
        label: 'Frekvens', // Translated
        groups: {
          Standard: {
            hertz: 1,
            kilohertz: 1e3,
            megahertz: 1e6,
            gigahertz: 1e9
          }
        }
      }
    };

    const nav = document.getElementById('category-nav');
    const converter = document.getElementById('converter');
    let activeCategory = Object.keys(units)[0];

    function buildNav() {
      nav.innerHTML = '';
      // Language switcher buttons - keep them here or move them to the header
      const langSwitcherDiv = document.createElement('div');
      langSwitcherDiv.style.marginRight = '20px'; // Space from category buttons
      langSwitcherDiv.innerHTML = `
        <a href="/index.html" style="margin: 0 0.5rem; text-decoration: none; color: #007acc; font-weight: bold;">English</a>
        <a href="/sv/index.html" style="margin: 0 0.5rem; text-decoration: none; color: #007acc; font-weight: bold;">Svenska</a>
      `;
      nav.appendChild(langSwitcherDiv);


      Object.entries(units).forEach(([key, cat]) => {
        const btn = document.createElement('button');
        btn.textContent = cat.label; // Will use the translated label
        btn.classList.toggle('active', key === activeCategory);
        btn.onclick = () => { activeCategory = key; buildNav(); renderConverter(); };
        nav.appendChild(btn);
      });
    }

    function renderConverter() {
      const cat = units[activeCategory];
      converter.innerHTML = `<h2>Omvandla ${cat.label}</h2>`; // Translated
      const row = document.createElement('div');
      row.className = 'row';
      row.innerHTML = `
        <label for="value">Värde:</label> <input type="number" id="value" value="1" step="any">
        <label for="fromUnit">Från:</label> <select id="fromUnit"></select>
      `;
      converter.appendChild(row);
      const fromSel = row.querySelector('#fromUnit');

      let unitList = [];
      if (cat.convertAll) {
        unitList = Object.keys(cat.groups.Skalor); // Ensure this references the translated group name
      } else {
        Object.values(cat.groups).forEach(group => {
          Object.entries(group).forEach(([name, factor]) => unitList.push({ name, factor }));
        });
      }

      unitList.forEach(u => {
        const opt = document.createElement('option');
        opt.value = typeof u === 'string' ? u : u.factor;
        opt.textContent = typeof u === 'string' ? u : u.name; // This will use the original unit name unless you translated it in the units object
        fromSel.appendChild(opt);
      });

      const table = document.createElement('table');
      table.innerHTML = '<thead><tr><th>Enhet</th><th>Värde</th></tr></thead><tbody></tbody>'; // Translated
      converter.appendChild(table);
      const tbody = table.querySelector('tbody');

      function calculateAll() {
        const val = parseFloat(row.querySelector('#value').value);
        const fromVal = fromSel.value;
        tbody.innerHTML = '';
        if (cat.convertAll) {
          const results = cat.convertAll(val, fromVal);
          for (const unit in results) {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${unit}</td><td>${results[unit]}</td>`;
            tbody.appendChild(tr);
          }
        } else {
          const fromF = parseFloat(fromVal);
          unitList.forEach(u => {
            const res = (val * fromF) / u.factor;
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${u.name}</td><td>${res}</td>`;
            tbody.appendChild(tr);
          });
        }
      }

      [row.querySelector('#value'), fromSel].forEach(el =>
        el.addEventListener('input', calculateAll)
      );
      calculateAll();
    }

    // Hook up the Common Conversions links
    document.querySelectorAll('.conversion-card a').forEach(a => {
      // Check if the link has a direct href to another page (already modified)
      if (a.getAttribute('href') && a.getAttribute('href') !== '#') {
        // Update href to point to the Swedish version of the page, if it exists
        // This is a basic example; you'd need a more robust system for all sub-pages
        const originalHref = a.getAttribute('href');
        if (originalHref.startsWith('/')) { // Relative path
              a.href = `/sv${originalHref}`;
        }
        // For links that navigate away, we don't need the click listener
        // that prevents default and updates the local converter.
        return;
      }
      // For other links (still href="#"), keep the original behavior.
      a.addEventListener('click', e => {
        e.preventDefault();
        activeCategory = a.dataset.category;
        buildNav();
        renderConverter();
        // Scroll to the converter section
        document.getElementById('converter').scrollIntoView({ behavior: 'smooth' });
        setTimeout(() => {
          const fromSel = document.getElementById('fromUnit');
          const opt = Array.from(fromSel.options)
            .find(o => o.textContent.toLowerCase() === a.dataset.from.toLowerCase());
          if (opt) {
            opt.selected = true;
            // Dispatch input event to trigger calculation
            fromSel.dispatchEvent(new Event('input', { bubbles: true }));
          }
        }, 50); // Timeout might be needed for DOM updates
      });
    });

    // Search logic
    const allConversions = [];
    for (const [catKey, catObj] of Object.entries(units)) {
      if (catObj.convertAll) {
        const keys = Object.keys(catObj.groups.Skalor); // Ensure this references the translated group name
        keys.forEach(from => keys.forEach(to => {
          if (from !== to) allConversions.push({ from, to, label: `${from} → ${to}`, category: catKey });
        }));
      } else {
        const flat = [];
        Object.values(catObj.groups).forEach(g => Object.keys(g).forEach(u => flat.push(u)));
        flat.forEach(from => flat.forEach(to => {
          if (from !== to) allConversions.push({ from, to, label: `${from} → ${to}`, category: catKey });
        }));
      }
    }

    const searchInput = document.getElementById('unit-search-input');
    const resultsContainer = document.getElementById('matching-results');
    searchInput.addEventListener('input', () => {
      const term = searchInput.value.trim().toLowerCase();
      resultsContainer.innerHTML = '';
      if (!term) return;
      // You'll need to update the search logic to match Swedish unit names if you translated them fully
      const matches = allConversions.filter(conv => conv.from.toLowerCase().startsWith(term));
      if (matches.length === 0) {
        resultsContainer.innerHTML = '<div style="padding: 0.5rem; color: #999;">Inga träffar hittades</div>'; // Translated
        return;
      }
      matches.forEach(match => {
        const div = document.createElement('div');
        div.textContent = match.label;
        div.onclick = () => {
          activeCategory = match.category;
          buildNav();
          renderConverter();
          // Scroll to the converter section
          document.getElementById('converter').scrollIntoView({ behavior: 'smooth' });
          setTimeout(() => {
            const fromSel = document.getElementById('fromUnit');
            const opt = Array.from(fromSel.options)
              .find(o => o.textContent.toLowerCase() === match.from.toLowerCase());
            if (opt) {
              opt.selected = true;
               fromSel.dispatchEvent(new Event('input', { bubbles: true }));
            }
          }, 100);
          searchInput.value = '';
          resultsContainer.innerHTML = '';
        };
        resultsContainer.appendChild(div);
      });
    });

    // Initial render
    buildNav();
    renderConverter();
  </script>

  <div style="text-align: center; max-width: 700px; margin: 40px auto; font-size: 1.1rem; line-height: 1.6;">
    <p>
      <strong>Enheter</strong> är det standardiserade sättet vi mäter och kommunicerar kvantiteter – såsom meter för längd, kilogram för vikt och sekunder för tid. Dessa enheter bidrar till att säkerställa att mätningar är konsekventa och förstås universellt, oavsett var du befinner dig.
      <br><br>
      <strong>Enhetssystem</strong>, som det metriska systemet eller det imperiala systemet, organiserar grupper av dessa enheter och definierar hur de förhåller sig till varandra. De är avgörande inom vetenskap, ingenjörskonst, handel och vardag för att undvika förvirring och säkerställa noggrannhet.
      <br><br>
      <a href="unit-explained.html" style="color: #007bff; text-decoration: none; font-weight: bold;">Läs mer →</a> </p>
  </div>

  <footer style="text-align: center; padding: 1rem; background: hsl(204, 100%, 40%); color: rgb(102, 186, 255); margin-top: 2rem;">
    <nav>
      <a href="/sv/index.html" style="color: rgb(0, 0, 0); margin: 0 0.5rem; text-decoration: none;">Hem</a> | <a href="/sv/about.html" style="color: rgb(0, 0, 0); margin: 0 0.5rem; text-decoration: none;">Om Oss</a> | <a href="/sv/terms.html" style="color: rgb(0, 0, 0); margin: 0 0.5rem; text-decoration: none;">Användarvillkor</a> | <a href="/sv/privacy.html" style="color: rgb(0, 0, 0); margin: 0 0.5rem; text-decoration: none;">Integritetspolicy</a> | <a href="/sv/sitemap.html" style="color: rgb(0, 0, 0); margin: 0 0.5rem; text-decoration: none;">Webbkarta</a> </nav>
    <p style="margin-top: 0.5rem; font-size: 0.9rem;">&copy; 2025 Universal Enhetsomvandlare. Alla rättigheter förbehållna.</p> </footer>
  <script>
  function toggleCategory(id) {
    const content = document.getElementById(id);
    content.style.display = content.style.display === 'block' ? 'none' : 'block';
  }
</script>

</body>
</html> 
